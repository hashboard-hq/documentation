---
description: Hashboard supports adding calculations to your Measures
---

import { Callout } from "nextra-theme-docs";

# Calculations

Hashboard supports adding calculations to your [Measures](/docs/data-modeling/measures).
You can add calculations when you are exploring any data model or saved exploration directly from the [Measures](/docs/data-modeling/measures) 
dropdown or [Data tray](docs/visualizing-data/data-tray).

Once you've added a calculation, it lives on the exploration even if inactive, i.e. not currently being used as a measure in the chart.
Calculations can be edited at any time, and can be deleted from the [Data tray](docs/visualizing-data/data-tray) when not being used as the only active measure.

### Quick vs. custom calculations

Hashboard separates calculations into 2 types: **quick calculations** and **custom calculations**.

By default, Hashboard provides a variety of **quick calculations**, such as rolling averages, rolling sums, differences, 
percent changes, and more, which can be added an easy-to-use template interface. 

More complex **custom calculations** can be added through our formula editor. 
With custom calculations, you can nest formulas within each other and reference other measures and calculations.

<Callout type="info">
  If a breakout is applied, the calculation will be applied to each individual
  breakout series. If no breakout is applied, a second series will be added so
  you will see your measure side-by-side with the new calculation.
</Callout>

## Add a quick calculation to a saved exploration

1. Go to a `saved exploration` or start exploring any `data model`.
2. Click the [Measures](/docs/data-modeling/measures) dropdown - the `y` or `Measures` dropdown depending on the chart type.
3. Click `+ Quick calculation`.
4. A new menu will open allowing you to name your calculation and edit the calculation's options.

Quick calculations can be converted to custom calculations by clicking on the calculation in the [Data tray](docs/visualizing-data/data-tray) 
and selecting `Convert to custom calculation` in the calculation's dropdown.

## Add a custom calculation to a saved exploration
1. Go to a `saved exploration` or start exploring any `data model`.
2. Click the [Measures](/docs/data-modeling/measures) dropdown - the `y` or `Measures` dropdown depending on the chart type.
3. Click `+ Custom calculation`.
4. A new menu will open allowing you to set a unique name and alias for the calculation, and build the formula in our formula editor.
5. When you have finished writing a valid formula, click `Save` to add the calculation to the chart. 

### Building custom calculations

The formula editor supports all of the functions available as quick calculations, 
as well as the ability to reference other measures, calculations, and use arithmetic operators.

When referencing other measures and calculations, simply type the `alias` of the measure or calculation you want to reference.
When you start typing, Hashboard will automatically suggest measures, calculations, and formulas that match your input.
To see the documentation of a particular measure, calculation, or formula, hover over it in the calculation editor to see more details.

For example, if you have a measure with alias `revenue` and a measure with alias `cost`, 
you could create a custom calculation named `Profit` with the formula `revenue - cost`. 

## Calculation types

| Calculation                                                                                                                                                                                                                                                     | Options                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Custom calculation formula                                                                                           |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| **Rolling Average** <br /> Useful for helping smooth out noise in a dataset <br /> <br /> **Rolling Sum** <br /> For looking at the cumulative sum of a measure                                                                                                         | _Periods_ - The number of periods to include in the calculation (i.e. the size of the moving window). <br /> <br /> _Minimum periods_ - The minimum number of observations required for the calculation to be defined for a certain point. For example if you take a seven day moving average, but there are only five days of data before this date, then the calculation will not be defined for that day. Defaults to the same as periods <br /> <br /> _Anchor_ - Whether to set labels at the center of the window or at the edge. Values are `Trailing`, `Centered`, or `Leading`. For a timeseries chart, you will usually want this to be a `Trailing` average or sum. | `rollingAverage(measure, period, anchor, minimumPeriod)`<br /><br />`rollingSum(measure, period, anchor, minimumPeriod)` |
| **Difference** <br /> For evaluating the absolute change over time<br /> <br /> **Percent Change** <br /> For looking at the proportional change over time<br /><br />**Lag**<br /> For looking the value shifted over time                                                   | _Offset_ - The number of periods to look back for the comparison<br /><br />Note: for Difference and Percent change, the offset is only configurable in custom calculations.<br />Hashboard sets the offset to compare to the previous period by default.                                                                                                                                                                                                                                                                                                                                                                                                                    | `difference(measure, offset)`<br /><br />`percentChange(measure, offset)`<br /><br />`lag(measure, offset)`                  |
| **Constant Value** <br /> Useful for fixed goals or other fixed values for comparison                                                                                                                                                                             | _Value_ - The numeric value to chart as a fixed line.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | N/A: in custom calculations, use numbers in formulas directly                                                        |
| **Percent of total**<br /> For looking at the proportion of the total value over time<br /><br /><br />**First in sequence**<br /> For looking at the value at the first point in time<br /><br />**Last in sequence**<br /> For looking at the value at the last point in time |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `percentOfTotal(measure)`<br /><br />`first(measure)`<br /><br />`last(measure)`                                             |