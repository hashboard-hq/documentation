---
description: Role-based data credentials allow you to control what users can access from the same data connection.
---

import { Callout } from "nextra-theme-docs";

# Role-Based Database Credentials

All Hashboard data connections can be optionally configured to use additional credentials which can be assigned to users on a per-role basis. 

After setting up database-level permissions within the data warehouse you use with Hashboard, these credentials can be added within Hashboard and then assigned to your Hashboard project's roles.

This enables projects to control what data users can access when viewing models, saved explorations, and dashboards built from the same data connection.
Projects can restrict access to certain tables, or even certain rows or columns within a table, based on a user's role.

### Adding credentials

The first step to adding role-based credentials is to create a [database connection](/docs/database-connections).

Note that the credentials specified in the top-level of the database connection form is the *default* credential. 
That is, unless specified otherwise, all users will connect via the information provided in the database connection form.

<Callout>
    If a user doesn't have any specified credentials within their roles, they will use the default credential for the data connection.
    Therefore, it's best practice for the default credential to be the most restrictive credential permissions-wise.
</Callout>

At the bottom of the data connection form, you'll see a section for **Role-based credentials**.

Click **Add credential** and fill out the fields provided. Give the credential a unique and descriptive name, 
as it will be used to assign to roles later on.

Once you're done, make sure to **Test** the credentials before saving to ensure they are connecting properly.

Finally, click **Save**.

#### Settings

The settings for a role-based credential depend on which data warehouse you're connecting to.

* [**Snowflake**](/docs/database-connections/snowflake): User, password, and role are required.

* [**BigQuery**](/docs/database-connections/bigquery): JSON key is required.

* [**PostgreSQL/Redshift**](/docs/database-connections/postgresql): User and password are required.

* [**MySQL**](/docs/database-connections/mysql): User and password are required.

* [**Athena**](/docs/database-connections/athena): AWS Access Key ID and AWS Secret Access Key are required.

* [**ClickHouse**](/docs/database-connections/clickhouse): User and password are required.

* [**MotherDuck**](/docs/database-connections/motherduck): Service token is required.

### Assigning credentials to roles

For information about how to set up and assign roles, see [Users and Permissions](/docs/project-management/users-and-permissions).

Once you've created your credentials, navigate to the **People** page. Scroll down to **Roles** and find the role you want to assign a credential to.

Click the **Edit** icon. You'll see a list of Permission Rules. Click to edit the Permission Rule you'd like to add the credential to,
or click **Add Permission Rule** to create a new one.

In the Permission Rule editor, you'll see a section for **Role-based credentials**. Click the **Add** button to the right to 
select your desired credential from a dropdown.

<Callout type="warning">
    Note that users cannot have multiple credentials for the same data connection. 
    Assigning a user multiple roles that specify different credentials for the same data connection will result in an error.
</Callout>
